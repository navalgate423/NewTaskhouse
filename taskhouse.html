<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="task.css">
    <script src="task.js" defer></script>
    <title>TaskHouse</title>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-logo">
            <img src="images/newlogo.png" alt="Xignex Digital Solutions Logo">
            <span class="logo-text">Virtual BizNest</span>
        </div>
        
        <nav class="sidebar-menu">
            <div class="menu-category">Main Menu</div>
            <a href="#" class="menu-item active" data-section="welcome">
                <i class="fas fa-home"></i>
                <span>Welcome</span>
            </a>
            <a href="#" class="menu-item" data-section="tasks">
                <i class="fas fa-tasks"></i>
                <span>My Task</span>
            </a>
            
            <div class="menu-category">Management</div>
            <div class="menu-item has-submenu">
                <div class="operation-content">
                    <i class="fas fa-cogs"></i>
                    <span>Operation</span>
                </div>
                <i class="fas fa-chevron-down submenu-icon"></i>
            </div>
            <div class="submenu">
                <a href="#" class="submenu-item" data-section="taskReports">
                    <i class="fas fa-chart-bar"></i>
                    <span>Task Reports</span>
                </a>
                <a href="#" class="submenu-item" data-section="vaUtilization">
                    <i class="fas fa-user-clock"></i>
                    <span>VA Utilization</span>
                </a>
            </div>
            <a href="#" class="menu-item" data-section="hr">
                <i class="fas fa-users"></i>
                <span>Human Resources</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="user-status">
                <img src="images/newlogo.png" alt="User Avatar" style="width: 32px; height: 32px;">
                <div class="user-status-info">
                    <h4>John Doe</h4>
                    <p>Online</p>
                </div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div class="top-bar">
            <div class="search-bar">
                <i class="fas fa-search search-icon"></i>
                <input type="text" placeholder="Search...">
            </div>
            <div class="user-menu">
                <div class="attendance-icon" onclick="toggleAttendanceModal()">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="notifications">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </div>
                <div class="user-profile">
                    <img src="images/newlogo.png" alt="User Profile">
                    <span>John Doe</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </div>

        <!-- Welcome Section -->
        <section class="welcome-section" id="welcomeSection">
            <div class="welcome-header">
                <div class="welcome-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="welcome-text">
                    <h1>Welcome back, John!</h1>
                    <p>Here's an overview of your tasks for today</p>
                </div>
            </div>

            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-info">
                        <h3>12</h3>
                        <p>Total Tasks</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3>5</h3>
                        <p>In Progress</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h3>7</h3>
                        <p>Completed</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-circle"></i>
                    </div>
                    <div class="stat-info">
                        <h3>2</h3>
                        <p>Due Today</p>
                    </div>
                </div>
            </div>

            <!-- Recent Activities -->
            <div class="recent-activities">
                <h2>Recent Activities</h2>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="activity-details">
                            <h4>New Task Assigned</h4>
                            <p>Website Development Project</p>
                            <span class="activity-time">2 hours ago</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="activity-details">
                            <h4>Task Completed</h4>
                            <p>UI Design Updates</p>
                            <span class="activity-time">5 hours ago</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">
                            <i class="fas fa-comment"></i>
                        </div>
                        <div class="activity-details">
                            <h4>New Comment</h4>
                            <p>On Mobile App Project</p>
                            <span class="activity-time">1 day ago</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Tasks Section (Initially Hidden) -->
        <section class="tasks-section" id="tasksSection" style="display: none;">
            <div class="tasks-header">
                <h2>My Tasks</h2>
                <button class="add-task-btn" onclick="openTaskModal()">
                    <i class="fas fa-plus"></i>
                    <span>Add New Task</span>
                </button>
            </div>

            <div class="search-filter-section">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search tasks...">
                </div>
                
                <select class="filter-dropdown" id="taskFilterPriority">
                    <option value="all">All Priorities</option>
                    <option value="high">High Priority</option>
                    <option value="medium">Medium Priority</option>
                    <option value="low">Low Priority</option>
                </select>

                <select class="filter-dropdown" id="taskFilterStatus">
                    <option value="all">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="in-progress">In Progress</option>
                    <option value="completed">Completed</option>
                </select>
            </div>

            <!-- Task Cards Container -->
            <div class="task-cards-container" id="myTasks">
                <!-- Tasks will be dynamically inserted here -->
                
                <!-- Example of an empty state -->
                <div class="empty-tasks" style="display: none;">
                    <i class="fas fa-clipboard-list"></i>
                    <h3>No Tasks Found</h3>
                    <p>Create your first task to get started</p>
                    <button class="add-task-btn" onclick="openTaskModal()">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
            </div>

            <!-- Task Progress Section -->
            <div class="task-progress">
                <div class="progress-header">
                    <h3>Overall Progress</h3>
                    <span>58% Completed</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 58%;"></div>
                </div>
            </div>
        </section>

        <!-- Task Management Section (View Only) -->
        <div class="task-management-section" id="taskManagementSection" style="display: none;">
            <div class="task-list-container">
                <div class="task-list-header">
                    <h2>All Tasks Overview</h2>
                    <div class="task-filters">
                        <select id="taskViewFilter">
                            <option value="all">All Tasks</option>
                            <option value="pending">Pending</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                </div>
                <div class="tasks-grid" id="taskOverview">
                    <!-- All tasks overview will be displayed here -->
                </div>
            </div>
        </div>

        <!-- Task Reports Section -->
        <section class="task-reports-section" id="taskReportsSection" style="display: none;">
            <div class="reports-container">
                <div class="section-header">
                    <h2>Task Reports</h2>
                    <div class="report-filters">
                        <select id="reportDateFilter" class="filter-dropdown">
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="custom">Custom Range</option>
                        </select>
                        <button class="action-btn">
                            <i class="fas fa-download"></i>
                            Export Report
                        </button>
                    </div>
                </div>
                
                <div class="report-summary">
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="summary-details">
                            <h3>Completed Tasks</h3>
                            <div class="summary-count" id="completedTasksCount">24</div>
                            <p class="summary-trend positive">
                                <i class="fas fa-arrow-up"></i> 12% from last week
                            </p>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="summary-details">
                            <h3>Total Hours</h3>
                            <div class="summary-count" id="totalHours">156</div>
                            <p class="summary-trend">
                                <i class="fas fa-minus"></i> Same as last week
                            </p>
                        </div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="summary-details">
                            <h3>Productivity Rate</h3>
                            <div class="summary-count" id="productivityRate">85%</div>
                            <p class="summary-trend positive">
                                <i class="fas fa-arrow-up"></i> 5% from last week
                            </p>
                        </div>
                    </div>
                </div>

                <div class="report-details">
                    <div class="report-table-header">
                        <h3>Task Completion Details</h3>
                        <div class="table-filters">
                            <input type="text" placeholder="Search tasks..." class="search-input">
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="tasks-table">
                            <thead>
                                <tr>
                                    <th>Task Name</th>
                                    <th>Assigned To</th>
                                    <th>Due Date</th>
                                    <th>Status</th>
                                    <th>Time Spent</th>
                                </tr>
                            </thead>
                            <tbody id="taskReportTable">
                                <!-- Sample data -->
                                <tr>
                                    <td>Website Redesign</td>
                                    <td>John Doe</td>
                                    <td>Oct 15, 2023</td>
                                    <td><span class="status-badge completed">Completed</span></td>
                                    <td>24h 30m</td>
                                </tr>
                                <tr>
                                    <td>Content Writing</td>
                                    <td>Jane Smith</td>
                                    <td>Oct 16, 2023</td>
                                    <td><span class="status-badge in-progress">In Progress</span></td>
                                    <td>12h 45m</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- VA Utilization Section -->
        <section class="va-utilization-section" id="vaUtilizationSection" style="display: none;">
            <div class="utilization-container">
                <div class="section-header">
                    <h2>VA Utilization</h2>
                    <div class="utilization-filters">
                        <select id="teamFilter" class="filter-dropdown">
                            <option value="all">All Teams</option>
                            <option value="development">Development</option>
                            <option value="design">Design</option>
                            <option value="marketing">Marketing</option>
                        </select>
                        <button class="action-btn">
                            <i class="fas fa-file-export"></i>
                            Export Data
                        </button>
                    </div>
                </div>

                <div class="utilization-summary">
                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="summary-details">
                            <h3>Active VAs</h3>
                            <div class="summary-count">12</div>
                            <p class="summary-trend positive">
                                <i class="fas fa-arrow-up"></i> 2 new this month
                            </p>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="summary-details">
                            <h3>Average Utilization</h3>
                            <div class="summary-count">78%</div>
                            <p class="summary-trend positive">
                                <i class="fas fa-arrow-up"></i> 5% increase
                            </p>
                        </div>
                    </div>

                    <div class="summary-card">
                        <div class="summary-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="summary-details">
                            <h3>Total Hours</h3>
                            <div class="summary-count">960</div>
                            <p class="summary-trend">
                                <i class="fas fa-minus"></i> This month
                            </p>
                        </div>
                    </div>
                </div>

                <div class="va-details">
                    <div class="va-grid">
                        <!-- VA Cards -->
                        <div class="va-card">
                            <div class="va-header">
                                <img src="images/newlogo.png" alt="VA Avatar">
                                <div class="va-info">
                                    <h4>John Doe</h4>
                                    <p>Development Team</p>
                                </div>
                                <div class="utilization-badge high">85%</div>
                            </div>
                            <div class="va-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Tasks Completed</span>
                                    <span class="stat-value">45</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Hours Logged</span>
                                    <span class="stat-value">160h</span>
                                </div>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                        </div>

                        <!-- Add more VA cards as needed -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Task Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Task</h2>
                <button class="close-modal" onclick="closeTaskModal()">&times;</button>
            </div>
            <form id="taskForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="taskTitle">Task Title</label>
                        <input type="text" id="taskTitle" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">Description</label>
                        <textarea id="taskDescription" class="form-control"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="taskPriority">Priority</label>
                        <select id="taskPriority" class="form-control" required>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskCategory">Category</label>
                        <select id="taskCategory" class="form-control" required>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="shopping">Shopping</option>
                            <option value="health">Health</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskDueDate">Due Date</label>
                        <input type="date" id="taskDueDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Assign To:</label>
                        <div class="assign-options">
                            <label class="assign-option">
                                <input type="checkbox" name="assignTo" value="johnDoe">
                                <span>John Doe</span>
                            </label>
                            <label class="assign-option">
                                <input type="checkbox" name="assignTo" value="janeSmith">
                                <span>Jane Smith</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="taskReminder">Set Reminder:</label>
                        <select id="taskReminder" class="form-control">
                            <option value="none">No Reminder</option>
                            <option value="15">15 minutes before</option>
                            <option value="30">30 minutes before</option>
                            <option value="60">1 hour before</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" onclick="closeTaskModal()">Cancel</button>
                    <button type="submit" class="btn btn-submit">Add Task</button>
                </div>
            </form>
        </div>
    </div>

    <div class="delete-modal" id="deleteModal">
        <div class="delete-modal-content">
            <div class="delete-modal-header">
                <h2>Delete Task</h2>
                <span class="close-delete-modal">&times;</span>
            </div>
            <div class="delete-modal-body">
                <i class="fas fa-exclamation-circle warning-icon"></i>
                <p>Are you sure you want to delete this task?</p>
                <p class="task-to-delete"></p>
            </div>
            <div class="delete-modal-footer">
                <button class="btn-cancel-delete">Cancel</button>
                <button class="btn-confirm-delete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Attendance Modal -->
    <div class="attendance-modal" id="attendanceModal">
        <div class="attendance-content">
            <div class="attendance-header">
                <h3>Attendance</h3>
                <button class="close-attendance" onclick="closeAttendanceModal()">×</button>
            </div>
            <div class="attendance-body">
                <div class="current-time">
                    <span id="currentTime"></span>
                    <span id="currentDate"></span>
                </div>
                <div class="attendance-actions">
                    <button id="clockInBtn" class="clock-btn" onclick="clockIn()">
                        <i class="fas fa-sign-in-alt"></i>
                        Clock In
                    </button>
                    <button id="clockOutBtn" class="clock-btn" onclick="clockOut()">
                        <i class="fas fa-sign-out-alt"></i>
                        Clock Out
                    </button>
                </div>
                <div class="attendance-records">
                    <h4>Today's Records</h4>
                    <div id="todayRecords"></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
